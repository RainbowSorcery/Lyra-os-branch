     1 00000000                                 ; naskfun
     2 00000000                                 ; tab = 4
     3 00000000                                 [FORMAT "WCOFF"]
     4 00000000                                 [BITS 32]
     5 00000000                                 
     6 00000000                                 [INSTRSET "i486p"]	
     7 00000000                                 
     8 00000000                                 [FILE "naskfunc.nas"]
     9 00000000                                     GLOBAL _io_hlt
    10 00000000                                     GLOBAL _write_mem8
    11 00000000                                     GLOBAL _io_cli
    12 00000000                                     GLOBAL _io_out8
    13 00000000                                     GLOBAL _io_load_eflags
    14 00000000                                     GLOBAL _io_store_eflags
    15 00000000                                     GLOBAL _io_sti
    16 00000000                                 
    17 00000000                                 
    18                                          [SECTION .text]
    19 00000000                                 _io_hlt: 
    20 00000000 F4                                  hlt
    21 00000001 C3                                  RET
    22 00000002                                 
    23 00000002                                 _write_mem8:
    24 00000002 8B 4C 24 04                         mov ecx, [esp + 4]
    25 00000006 8A 44 24 08                         mov al, [esp + 8]
    26 0000000A 88 01                               mov [ecx], al
    27 0000000C C3                                  RET
    28 0000000D                                 
    29 0000000D                                 _io_cli: 
    30 0000000D FA                                  cli
    31 0000000E C3                                  RET
    32 0000000F                                 
    33 0000000F                                 _io_out8:
    34 0000000F 8B 54 24 04                         mov edx, [esp + 4] ; port
    35 00000013 8A 44 24 08                         mov al, [esp + 8] ; data
    36 00000017 EE                                  out dx, al
    37 00000018 C3                                  RET
    38 00000019                                 
    39 00000019                                 _io_load_eflags:
    40 00000019 9C                                  pushfd
    41 0000001A 58                                  pop eax
    42 0000001B C3                                  RET
    43 0000001C                                 
    44 0000001C                                 _io_store_eflags:
    45 0000001C 8B 44 24 04                         mov eax, [esp + 4]
    46 00000020 50                                  push eax
    47 00000021 9D                                  popfd
    48 00000022 C3                                  RET
    49 00000023                                 
    50 00000023                                 _io_sti:
    51 00000023 FB                                  sti
    52 00000024 C3                                  RET